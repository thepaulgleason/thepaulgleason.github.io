 <!-- The start of FocusTomato -->
 <!DOCTYPE html>
 <html>
     <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-theme.min.css" rel="stylesheet">
        <link href="css/mystyles.css" rel="stylesheet">
        
        <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-database.js"></script>
        <script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCZzcxxtq48xiWnjKu5AbtmqbZYD0VyIYI",
    authDomain: "focustomato.firebaseapp.com",
    databaseURL: "https://focustomato.firebaseio.com",
    projectId: "focustomato",
    storageBucket: "focustomato.appspot.com",
    messagingSenderId: "958241018007"
  };
  firebase.initializeApp(config);

  var database = firebase.database()
</script>

<script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

<script type="text/javascript">
      // FirebaseUI config.
      var uiConfig = {
        signInSuccessUrl: 'thepaulgleason.github.io/focusTomato.html',
        signInOptions: [
          // Leave the lines as is for the providers you want to offer your users.
          firebase.auth.GoogleAuthProvider.PROVIDER_ID,
        ],
        // tosUrl and privacyPolicyUrl accept either url string or a callback
        // function.

        // Terms of service url/callback.
        //tosUrl: '<your-tos-url>',
        // Privacy policy url/callback.
        /*privacyPolicyUrl: function() {
          window.location.assign('<your-privacy-policy-url>');
        }*/
      };

      // Initialize the FirebaseUI Widget using Firebase.
      var ui = new firebaseui.auth.AuthUI(firebase.auth());
      // The start method will wait until the DOM is loaded.
      ui.start('#firebaseui-auth-container', uiConfig);
    </script>

    <script>

//create an instance of the auth provider
var provider = new firebase.auth.GoogleAuthProvider();

firebase.auth().signInWithPopup(provider).then(function(result) {
  // This gives you a Google Access Token. You can use it to access the Google API.
  var token = result.credential.accessToken;
  // The signed-in user info.
  var user = result.user;
  // ...
}).catch(function(error) {
  // Handle Errors here.
  var errorCode = error.code;
  var errorMessage = error.message;
  // The email of the user's account used.
  var email = error.email;
  // The firebase.auth.AuthCredential type that was used.
  var credential = error.credential;
  // ...
});


//SignOut
firebase.auth().signOut().then(function() {
  // Sign-out successful.
}).catch(function(error) {
  // An error happened.
});


    initApp = function() {
        firebase.auth().onAuthStateChanged(function(user) {
          if (user) {
            // User is signed in.
            var displayName = user.displayName;
            var photoURL = user.photoURL;
            user.getIdToken().then(function(accessToken) {
              

              document.getElementById('user-name').textContent = 'hi ' + displayName
              document.getElementById('sign-out-button').hidden = false
              //document.getElementById('#firebaseui-auth-container').hidden = true;
              document.getElementById("profilePic").src = photoURL
              document.getElementById('account-details').textContent = JSON.stringify({
                displayName: displayName,
                email: email,
                emailVerified: emailVerified,
                phoneNumber: phoneNumber,
                photoURL: photoURL,
                uid: uid,
                accessToken: accessToken,
                providerData: providerData
              }, null, '  ');
            });
          } else {
            // User is signed out.
            document.getElementById('user-name').hidden = true
            document.getElementById('sign-out-button').hidden = true
            //document.getElementById('#firebaseui-auth-container').hidden = false
          }
        }, function(error) {
          console.log(error);
        });
      };

      window.addEventListener('load', function() {
        initApp()
      });
  
    
    </script>


        <h2 align="left">Paul's focusTomato</h1>
        <div class="sidenav" id="mySidenav">
            <a class="active" href="index.html">Home</a>
            <a class="active" href="focusTomato.html">focusTomato</a>
            </div>
        <div style="text-align: center;">
            <img id="profilePic" src="images/profileLinkedIn.jpg" alt="ProfPic" height="200" align="left">
            </div>
         </head>

     <body>
         
         <h2 id="user-name"><h2>

         <div id='#firebaseui'></div>

         <div class="container">
          <h1 class="title">StopWatch</h1>
          <h1 id="timerLabel">25:00</h1>
          <input type="button" class="myButton" onclick="start()" value="START" id="startBtn">
          <input type="button" class="myButton" onclick="stop()" value="STOP">
          <input type="button" class="myButton" onclick="reset()" value="RESET">
      </div>
      <script>
          var status = 0; // 0:stop 1:running
          var userTime = 25;
          var time = userTime * 60;
          var startBtn = document.getElementById("startBtn");
          var timerLabel = document.getElementById('timerLabel');
        function start(){
              status = 1;
              startBtn.disabled = true;
              timer();
          }
          function stop(){
              status = 0;
              startBtn.disabled = false;
          }
          function reset(){
              status = 0;
              startBtn.disabled = false;
              time = userTime*60;
              var min = Math.floor(time/60);
              var sec = Math.floor(time % 60);
              timerLabel.innerHTML = min + ":" + sec;
          }
          function timer(){
              if (status == 1 && time != 0) {
                  setTimeout(function() {
                      time--;
                      var min = Math.floor(time/60);
                      var sec = Math.floor(time % 60);
                      var mSec = time % 100;
                      if (min < 10) min = "0" + min;
                      if (sec >= 60) sec = sec % 60;
                      if (sec < 10) sec = "0" + sec;
                      timerLabel.innerHTML = min + ":" + sec;
                      timer();
                  }, 1000);
              }
          }
          document.onkeydown = function(event) { 
              if (event) {
                  if (event.keyCode == 32 || event.which == 32) {
                      if(status == 1) {
                          stop();
                      } else if (status == 0) {
                          start();
                      }
                  }
              }
          };
      </script>
        
          
          

         </body>    
 </html>